<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="441px" height="681px" viewBox="-0.5 -0.5 441 681" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-12-24T11:33:39.418Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36&quot; etag=&quot;UQIZx3jAjwaKX8xbnjXX&quot; version=&quot;16.0.3&quot; type=&quot;github&quot;&gt;&lt;diagram id=&quot;9uyJX09nNnovxR0Th2E_&quot; name=&quot;Page-1&quot;&gt;7VpLc6M4EP41Om6Kt+EI2N5NVaaytTnMzpEximGDkRfk2Jlfv92NZIzBCcnYmdmpVOWgbnVLoh9ft+QwO17tfq+SdfZJpLxglpHumD1llmU6lsXwz0ifGs7EU4xlladKqGXc5d+4YhqKu8lTXncEpRCFzNdd5kKUJV/IDi+pKrHtit2LorvrOlnyHuNukRR97uc8lZnieq7TTvzB82Wmtza9oJlZJVpafUqdJanYHrDsGbPjSgjZjFa7mBdoPW2YRm9+YnZ/soqXcozCF/M2qsTq8fPtZBeavDDrf69/s5tVHpNio75YHVY+aRPwFCyiSFHJTCxFmRSzlhu13Bsh1iBmAvMfLuWTcmiykQJYmVwVarbZBZc++TWKVYtNteDPfIIOi6RacvmMnLW3OUQrFysuqyfQq3iRyPyxe45Ehc1yL9caFgbKtq+ws9m388xlUcx8AwfhhPkRDnyfBc1gygK354sDC6ZJnXHc0gBim+WS1+uEDLWFVAQexNsaydVuibl5ld6nVzVYSe7N/8gryXfPO6BvMKVgGyquVWY7ity2aeIrVnaQIFrs7BZ2nDdE7mJTPe6NWIlNmRKF9q0fuFxkauoNEc53ufwb1a9cRX05mJnu1MpEPGmiBEscKCH55XCuVSNK650xm6yR2WQaw9HxPulkDaSTx0KDhSabBSwMmR9TFs2ZT1OQS5HRCxBKm7tu2pxKsTOkjGl1U2ZPH+SM47xn0ugy+4IhHRb5GqAGcane5qsiKTGl7kUpddKh3RZZXqQ3yZPY4McAAC0eNBVlosq/gXyiLU74pFLK8joSd6ipM5XXIPOnNrx5xPqU7DqCN0kt9WlEUSTrOv9K50PFFUR6XkZCSrG6nKstY6Sr/Yu5eqgEgVdnLJqoVAk85IQzFlqtq/vOh7jwaTybsGiK8rM5lTK/zTQY+M0UkCEL7Gs49K0WDHoBBJaW5P9KPPBYFKICfimaiMqL4oiVFPmyBLLg96iGrsqhaQsVWwoqgJDYebm8IZmp03L+UuZGlgDd+4L6sixPU15SIZCJTL7uQ3gt8lKSP9wI/sBDMQK0CwePgTZbGv5QvJKxKOFbkpyihUP8bXk9uvC+CnB1gHnj4ks3rueH5CEocTGUAooCP0RYwZCJWGDS1IwFIcXXnOAGQsZk4fwDXF4LLvbYOnIxcLGGwMUjTKH+FjK+wYvAYcGcpnyaOoab6ykeZBiFQmyTgRPYECijBQmTCOea2PM9UG0Bq0G3gHDKpGYBBjMsfCAOSuF8CCWpUfdpgOq2bubn7dofGPd6jLN+coxzBsL8p7p0nPMi4I68CTg/9ibgDiBPH2dcjRPEUbn80cq+pdo4Azf9wTTcK57f6V7P6eYV0BriHSoMNrap6k1lQhxoL4Z6VFzONtFcVrMKTAcs8pQO3oACjCj/sG1RfS1xplhhFO7HuhZYqjpEzZYTWnBoZX+CzRHKOFh6Tq7soxYEc+jq8xiqfoEYas2pEtnIx6P2K2FfeF+r9iawT5mgXwUHN+j2cp3TxPQxHm4cGsozaJ2ei9rTOKdOMyE/TGjdiI6136kfA8943L1isUXH8fCbIqNtWi0CkABWd7qzI5Hko96/WO/ds9T74GL1fvhOo7Lbw1TCZHy5raV4nVKf2Y/F1z1KHRelXp25AOR7Y18vLve6O/Ti19wlbbLpFB1wqefytkkzjpu0M1j7+CXd8/vWft+n9LP8KvT/aHO1EV9uc3/o70eO98t6wBzrgVO3w3fywOSX9YA12gMn6vX3egDI9ndwmjv4dwJ79h8=&lt;/diagram&gt;&lt;/mxfile&gt;" resource="https://app.diagrams.net/#Hcdwxw%2Fcdwxw%2Fmain%2F%E6%8E%A8%E5%8D%95%E6%B5%81%E7%A8%8B.svg"><defs><clipPath id="mx-clip-4-191-432-54-0"><rect x="4" y="191" width="432" height="54"/></clipPath><clipPath id="mx-clip-4-311-432-54-0"><rect x="4" y="311" width="432" height="54"/></clipPath><clipPath id="mx-clip-4-431-432-94-0"><rect x="4" y="431" width="432" height="94"/></clipPath></defs><g><path d="M 220 40 L 220 73.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 220 78.88 L 216.5 71.88 L 220 73.63 L 223.5 71.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 240 0 C 251.05 0 260 8.95 260 20 C 260 25.3 257.89 30.39 254.14 34.14 C 250.39 37.89 245.3 40 240 40 L 200 40 C 188.95 40 180 31.05 180 20 C 180 8.95 188.95 0 200 0 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 20px; margin-left: 220px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">开始创单</div></div></div></foreignObject><text x="220" y="24" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">开始创单</text></switch></g><path d="M 220 120 L 220 153.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 220 158.88 L 216.5 151.88 L 220 153.63 L 223.5 151.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="80" width="440" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 438px; height: 1px; padding-top: 100px; margin-left: 1px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">校验参数</div></div></div></foreignObject><text x="220" y="104" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">校验参数</text></switch></g><path d="M 0 186 L 0 160 L 440 160 L 440 186" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 0 186 L 0 240 L 440 240 L 440 186" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 186 L 440 186" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="219.5" y="177.5">校验下单</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-191-432-54-0)" font-size="12px"><text x="5.5" y="203.5">获取订单下单配置（数据库I/O）</text></g><path d="M 0 306 L 0 280 L 440 280 L 440 306" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 306 L 0 360 L 440 360 L 440 306" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 306 L 440 306" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="219.5" y="297.5">增加绑定信息</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-311-432-54-0)" font-size="12px"><text x="5.5" y="323.5">提前生成订单ID/订单产品ID/订单产品明细ID（三层循环获取分布式ID）</text></g><path d="M 220 520 L 220 553.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 558.88 L 216.5 551.88 L 220 553.63 L 223.5 551.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 426 L 0 400 L 440 400 L 440 426" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 426 L 0 520 L 440 520 L 440 426" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 426 L 440 426" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="219.5" y="417.5">生成客户单</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-431-432-94-0)" font-size="12px"><text x="5.5" y="443.5">1. 组装列表数据</text><text x="5.5" y="457.5">2. 并行锁定库存，异常时并行释放库存（营销中心、产品中心）</text><text x="5.5" y="471.5">3. 并行获取产品信息、优惠券列表</text><text x="5.5" y="485.5">4. 并行算价、组装数据</text><text x="5.5" y="499.5">5. 新增/更新客户单</text></g><rect x="0" y="560" width="440" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 438px; height: 1px; padding-top: 580px; margin-left: 1px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">异步生成订单等数据</div></div></div></foreignObject><text x="220" y="584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">异步生成订单等数据</text></switch></g><path d="M 240 640 C 251.05 640 260 648.95 260 660 C 260 665.3 257.89 670.39 254.14 674.14 C 250.39 677.89 245.3 680 240 680 L 200 680 C 188.95 680 180 671.05 180 660 C 180 648.95 188.95 640 200 640 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 660px; margin-left: 220px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">结束</div></div></div></foreignObject><text x="220" y="664" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">结束</text></switch></g><path d="M 220 600 L 220 633.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 638.88 L 216.5 631.88 L 220 633.63 L 223.5 631.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 240 L 220 273.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 278.88 L 216.5 271.88 L 220 273.63 L 223.5 271.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 360 L 220 393.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 398.88 L 216.5 391.88 L 220 393.63 L 223.5 391.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>