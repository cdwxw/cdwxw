<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="441px" height="681px" viewBox="-0.5 -0.5 441 681" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-12-24T11:34:43.106Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36&quot; etag=&quot;s3qVHbsg3jtG3R3FDDkR&quot; version=&quot;16.0.3&quot; type=&quot;github&quot;&gt;&lt;diagram id=&quot;9uyJX09nNnovxR0Th2E_&quot; name=&quot;Page-1&quot;&gt;7VpLc6M4EP41Om6Kt+EIGO+mKlPZ2hxmc1SMYphg5AU5tufXb7cQBgyOnYwdZ7dcyUHd6pZEP75ugYkZzte/F3SRfOMxy4ihxWtijolh6JZhEPzX4k3FGTmKMSvSWAk1jIf0J1NMTXGXaczKjqDgPBPposuc8jxnU9Hh0aLgq67YM8+6uy7ojPUYD1Oa9bnf01gkiuvYVjPxB0tnSb217njVzJzW0upRyoTGfNVimRExw4JzUY3m65BlaL3aMJXeZM/s9mQFy8UxCo/6fVDw+ev3+9Ha11mml//c/mZWq7zSbKmeWB1WbGoTsBgsokheiITPeE6zqOEGDfeO8wWI6cD8wYTYKIfSpeDASsQ8U7OlKPgLC3nGC7mLqXm2bQcw88xz0eLrPv4BvzoXHmbv8ytWyZfFlL3x0HUg0WLGxBtyxtZLEN+Mz5koNqBXsIyK9LV7DqoCbbaVa1wBA+WNd3hG73smskkQElfDgT8iboAD1yVeNRgTz+55r2XzmJYJwy01IFZJKli5oNJQK0hedEpCF0jO1zPM5pv4Ob4pwUoC3ZJmWcstE3/sje0hR461MIqMg458ZYVg67dd2Te9UjA1lVMKVSxFrpoUdRUraSVnLXZyX1nWB7Jmuixet+4o+DKPJSWz44WJaaKmPpBdbJ2Kv1H9xlbUY2tmvFYrS2JTEzlYoqWE5GN7rlGTVK130Uw2jsxkXRuOp89JZWMglR3ia8TXSeQR3yduKDN4Qlw5BXkcaL2Qkin70E3Zfen9pdJVN7rpuqVb+WpZn5mwdXtxwCUWCdwaZgfRtVyl84zmTNmvTnj0wDRJs/iObvgSHwZgdPpSU0HCi/QnyNOmHALKqnQ2nI7EA2rWKMFKkPmzNry+w/pG1x3BO1qK+jQ8y+iiTJ/k+VBxDjmT5gEXgs//C0FjaEcGjXu2oBkqyRAfEQlGKn09Bzl+RHyjCZp+GEGEuXIcjUgwRvloIku722Q/DNxqCkifeOYtHPq+FvR6oQiWFj1f5byKzZZjFYtm6SwHMmPPqIauSqHt9RVbcNkQANik+exOyoythvOXMjeyOOg+Z7KzTdI4ZrksZ4IK+rRNhgVPcyH9AZXBRmwLsczYcPAQaL2h4R/FCwirHJ6FpjJaGETyipXiV0PuXcWhDjznuLirrwSnLx9DYGVjiHkyOlwfgQtDKSCeLqci4vky7iYS0CCUdOJPrvB1Ofgyj615Z4MvYwi+HIla8kYBmFIhkmcRbyKnXDm1C2i3YzzIMM75eDEBjmdCyB0tKFFPImkVxa4Dqg0kVvjpSSTUZYsEgwiLNIiDkj8ZwmF5NXLlANXN+vo0ada+oujpUNT44ihqDYT/l7q0XfYiZR95k7Iue5OyBzCsj1h2jTiSo1Dh2sBftgJaA29pBiFgq3j68HF64aPfAF2XHUsWKxObc/VmbSQ50DwNdea4nKmj4Y1qFZj2SOAoHbxBehibbrspU9285Iyx6qlaFNb1yVAVK6i2HMkFh1Z2R9j6oYyF5XDvyi5qQVr4dn0eTdVUEEOtiayOJvLxqP3q3Bfe1s+tCcx9JuhX5sENup1q5zShfBgHN/Y15Rm0Ts9FzWmsfacZST+M5LqBPNZ2p34MvOFx+4aEhjyOg88UaE1Lbkgo8mB1qzt7JCZde5AP9yD2SXoQ72w9yPBNTmW9gymGSXq4BZdxPJY9cT9G3/facLfs9SrZTlGJbebG1lBRcY0n03HOUzycY9/+nO8d/9Bb3OrObUovjNFl5/r80rSa2m6r+aWK/u6XGcft++1zP82c5Avn/7Xtr81+uO2/6LdQy7n6rPft4vDn64te1azR1We9V7iHfbang/lVnwHZ/NJEzrV+sGNG/wI=&lt;/diagram&gt;&lt;/mxfile&gt;" resource="https://app.diagrams.net/#Hcdwxw%2Fcdwxw%2Fmain%2F%E6%8E%A8%E5%8D%95%E6%B5%81%E7%A8%8B.svg"><defs><clipPath id="mx-clip-4-191-432-54-0"><rect x="4" y="191" width="432" height="54"/></clipPath><clipPath id="mx-clip-4-311-432-54-0"><rect x="4" y="311" width="432" height="54"/></clipPath><clipPath id="mx-clip-4-431-432-94-0"><rect x="4" y="431" width="432" height="94"/></clipPath></defs><g><path d="M 220 40 L 220 73.63" fill="none" stroke="#09555b" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 220 78.88 L 216.5 71.88 L 220 73.63 L 223.5 71.88 Z" fill="#09555b" stroke="#09555b" stroke-miterlimit="10" pointer-events="all"/><path d="M 240 0 C 251.05 0 260 8.95 260 20 C 260 25.3 257.89 30.39 254.14 34.14 C 250.39 37.89 245.3 40 240 40 L 200 40 C 188.95 40 180 31.05 180 20 C 180 8.95 188.95 0 200 0 Z" fill="#fad9d5" stroke="#d0cee2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 20px; margin-left: 220px;"><div data-drawio-colors="color: #1A1A1A; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(26, 26, 26); line-height: 1.2; pointer-events: all; white-space: nowrap;">开始创单</div></div></div></foreignObject><text x="220" y="24" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle">开始创单</text></switch></g><path d="M 220 120 L 220 153.63" fill="none" stroke="#09555b" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 220 158.88 L 216.5 151.88 L 220 153.63 L 223.5 151.88 Z" fill="#09555b" stroke="#09555b" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="80" width="440" height="40" fill="#fad9d5" stroke="#d0cee2" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 438px; height: 1px; padding-top: 100px; margin-left: 1px;"><div data-drawio-colors="color: #1A1A1A; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(26, 26, 26); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">校验参数</div></div></div></foreignObject><text x="220" y="104" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle">校验参数</text></switch></g><path d="M 0 186 L 0 160 L 440 160 L 440 186" fill="#fad9d5" stroke="#d0cee2" stroke-miterlimit="10" pointer-events="all"/><path d="M 0 186 L 0 240 L 440 240 L 440 186" fill="none" stroke="#d0cee2" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 186 L 440 186" fill="none" stroke="#d0cee2" stroke-miterlimit="10" pointer-events="none"/><g fill="#1A1A1A" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="219.5" y="177.5">校验下单</text></g><g fill="#1A1A1A" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-191-432-54-0)" font-size="12px"><text x="5.5" y="203.5">获取订单下单配置（数据库I/O）</text></g><path d="M 0 306 L 0 280 L 440 280 L 440 306" fill="#fad9d5" stroke="#d0cee2" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 306 L 0 360 L 440 360 L 440 306" fill="none" stroke="#d0cee2" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 306 L 440 306" fill="none" stroke="#d0cee2" stroke-miterlimit="10" pointer-events="none"/><g fill="#1A1A1A" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="219.5" y="297.5">增加绑定信息</text></g><g fill="#1A1A1A" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-311-432-54-0)" font-size="12px"><text x="5.5" y="323.5">提前生成订单ID/订单产品ID/订单产品明细ID（三层循环获取分布式ID）</text></g><path d="M 220 520 L 220 553.63" fill="none" stroke="#09555b" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 558.88 L 216.5 551.88 L 220 553.63 L 223.5 551.88 Z" fill="#09555b" stroke="#09555b" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 426 L 0 400 L 440 400 L 440 426" fill="#fad9d5" stroke="#d0cee2" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 426 L 0 520 L 440 520 L 440 426" fill="none" stroke="#d0cee2" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 426 L 440 426" fill="none" stroke="#d0cee2" stroke-miterlimit="10" pointer-events="none"/><g fill="#1A1A1A" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="219.5" y="417.5">生成客户单</text></g><g fill="#1A1A1A" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-431-432-94-0)" font-size="12px"><text x="5.5" y="443.5">1. 组装列表数据</text><text x="5.5" y="457.5">2. 并行锁定库存，异常时并行释放库存（营销中心、产品中心）</text><text x="5.5" y="471.5">3. 并行获取产品信息、优惠券列表</text><text x="5.5" y="485.5">4. 并行算价、组装数据</text><text x="5.5" y="499.5">5. 新增/更新客户单</text></g><rect x="0" y="560" width="440" height="40" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 438px; height: 1px; padding-top: 580px; margin-left: 1px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">异步生成订单等数据</div></div></div></foreignObject><text x="220" y="584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">异步生成订单等数据</text></switch></g><path d="M 240 640 C 251.05 640 260 648.95 260 660 C 260 665.3 257.89 670.39 254.14 674.14 C 250.39 677.89 245.3 680 240 680 L 200 680 C 188.95 680 180 671.05 180 660 C 180 648.95 188.95 640 200 640 Z" fill="#fad9d5" stroke="#d0cee2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 660px; margin-left: 220px;"><div data-drawio-colors="color: #1A1A1A; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(26, 26, 26); line-height: 1.2; pointer-events: none; white-space: nowrap;">结束</div></div></div></foreignObject><text x="220" y="664" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle">结束</text></switch></g><path d="M 220 600 L 220 633.63" fill="none" stroke="#09555b" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 638.88 L 216.5 631.88 L 220 633.63 L 223.5 631.88 Z" fill="#09555b" stroke="#09555b" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 240 L 220 273.63" fill="none" stroke="#09555b" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 278.88 L 216.5 271.88 L 220 273.63 L 223.5 271.88 Z" fill="#09555b" stroke="#09555b" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 360 L 220 393.63" fill="none" stroke="#09555b" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 398.88 L 216.5 391.88 L 220 393.63 L 223.5 391.88 Z" fill="#09555b" stroke="#09555b" stroke-miterlimit="10" pointer-events="none"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>